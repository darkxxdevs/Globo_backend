generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model User {
    id           Int              @id @unique @default(autoincrement())
    name         String
    email        String
    password     String           @db.VarChar(60)
    avatar       String?
    isVerified   Boolean          @default(false)
    coverImage   String?
    refreshToken String?          @db.VarChar(1000)
    articles     Article[]
    preferences  UserPreferences?
}

model UserPreferences {
    id           Int     @id @unique @default(autoincrement())
    proUser      Boolean @default(false)
    avatar       String?
    articleCount Int     @default(0)
    userId       Int     @unique
    user         User    @relation(fields: [userId], references: [id])
}

model Article {
    id      Int     @id @unique @default(autoincrement())
    title   String  @db.VarChar(100)
    content String  @db.VarChar(10000)
    status  String  @default("active")
    userId  Int
    image   String?
    slug    String  @default("")
    User    User    @relation(fields: [userId], references: [id])
}
